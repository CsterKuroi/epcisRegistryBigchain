<!-- participants -->
<div class="tab-pane fade" id="tab_participants">

  <div class="row">
    <div class="col-sm-9">
      <div class="panel panel-success">
        <div class="panel-heading">
          <h2 class="panel-title">VizixBigchain node</h2>
        </div>

        <div class="panel-body">
          <div class="form-group">
            <label class="control-label col-sm-4" for="type">node name:</label>
            <div class="col-sm-8">
              <label  class="form-control" id="node-name"></label>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-4" for="type">node server:</label>
            <div class="col-sm-8">
              <label  class="form-control" id="node-server"></label>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-4" for="type">public key:</label>
            <div class="col-sm-8">
              <textarea rows="4" class="form-control" id="node-publicKey"></textarea>
            </div>
          </div>
        </div>

      </div>
    </div>

    <div class="col-sm-3">
      <div class="panel panel-info">
        <div class="panel-body">
          <div class="form-group">
            <label class="control-label col-sm-12" >
              <button type="button" class="btn btn-default col-sm-12" 
                onclick="getNodeInfo()">get node info</button>
            </label>
            <label class="control-label col-sm-12" >
              <button type="button" class="btn btn-default col-sm-12" 
              onclick="addParticipant()">add participant</button>
            </label>
            <label class="control-label col-sm-12" >
              <button type="button" class="btn btn-default col-sm-12" 
              onclick="changeNodeInfo()">change node info</button>
            </label>
          </div>
        </div>
      </div>
    </div>        
  </div>

  <div class="row tab-header">
    <div class="col-sm-8">
      <h3>Participants</h3>
    </div>
    <div class="col-sm-4 tab-header-column">
    </div>
  </div>

  <div id="participantList">
  </div>

</div>

<div class="modal fade" id="nodeInfoDialog" tabindex="-1" role="dialog" aria-labelledby="nodeInfoDialogLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="nodeInfoDialogLabel">Node Info</h4>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="node-info" class="control-label">Copy this text and then paste into the "add participant" option in the remote VizixBigchain node</label>
            <textarea cols="60" rows="8" class="form-control" id="node-info"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="addParticipantDialog" tabindex="-1" role="dialog" aria-labelledby="addParticipantLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="addParticipantLabel">Add Participant to this Node</h4>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="node-info" class="control-label">use the participant signature from remote VizixBigchain node</label>
            <textarea cols="60" rows="8" class="form-control" id="node-signature"></textarea>
          </div>
        </form>
        <div id="addpart-statusbar" class="alert alert-danger"></div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" id="btnAddParticipant">Add Participant</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="changeInfoDialog" tabindex="-1" role="dialog" aria-labelledby="changeInfoDialogLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="changeInfoDialogLabel">Change Node Info</h4>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="node-name" class="control-label">Node Name:</label>
            <input type="text" class="form-control" id="node-name">
          </div>
          <div class="form-group">
            <label for="node-host" class="control-label">Node Host:</label>
            <input type="text" class="form-control" id="node-host">
          </div>
          <div class="form-group">
            <label for="node-port" class="control-label">Node Port:</label>
            <input type="text" class="form-control" id="node-port">
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Send message</button>
      </div>
    </div>
  </div>
</div>

<script id="participants-template" type="text/x-handlebars-template">

  \{{#each participants}}
  <div class="row">
    <div class="col-sm-9">
      <div class="panel panel-success">
        <div class="panel-heading">
          <h2 class="panel-title">\{{name}}</h2>
        </div>

        <div class="panel-body">

          <div class="form-group">
            <label class="control-label col-sm-4" for="type">node server:</label>
            <div class="col-sm-8">
              <label  class="form-control" >\{{host}}:\{{port}}</label>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-4" for="type">public key:</label>
            <div class="col-sm-8">
              <textarea readonly="" rows="4" class="form-control">\{{publickey}}</textarea>
            </div>
          </div>

          <br>Channels<br>
          <div class="form-group">
            <table id="table-channels" class="table table-striped table-bordered">
              <thead>
                <tr>
                  <th>Channel Name</th>
                  <th>shared secret</th>
                  <th>participants</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Channel 2</td>
                  <td>8YiLnT4e3LGZ57Yui11M78W3DbzHoBQueJCQYhx64miL</td>
                  <td>[Party A, Party C]</td>
                </tr>
              </tbody>
            </table>
          </div>

        </div>
      </div>
    </div>

    <div class="col-sm-3">
      <div class="panel panel-info">
        <div class="panel-body">
          <div class="form-group">
            <label class="control-label col-sm-12" >
              <button type="button" class="btn btn-danger col-sm-12" 
              onclick="addParticipant()">remove participant</button>
            </label>
          </div>
        </div>
      </div>
    </div>        

  </div>
  \{{/each}}

</script>

